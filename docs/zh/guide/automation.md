---
title: EasyTidy
titleTemplate: 自动化
---

# 自动化

该功能是将在[整理任务](task.md)中添加的任务设定自动处理的方式。

## 文件夹监控

![文件变更](/images/PixPin_2025-01-07_16-20-55.png)
当自动运行的条件设置为文件变更时执行，在[整理任务](task.md)配置的源文件将自动进行监控,并且在文件发生变更时，自动处理符合条件文件，正常情况下，某个文件发生变更时，将只会处理发生变更的文件；如果想要处理变更文件的同时，处理其他文件，建议使用文件更改时跟定期执行组合使用。

注意：使用文件夹监控时，建议设定延迟执行，避免文件在编辑的过程中触发文件自动处理操作。

## 定时处理

![间隔](/images/PixPin_2025-01-07_16-22-42.png)
设置EasyTidy自动处理文件的方式为每间隔一段时间执行一次，最大间隔可以选择23小时59分执行一次，如果需要更长的时间间隔，建议使用按照计划进行配置。

## 按照计划

![按照计划](/images/PixPin_2025-01-07_16-58-50.png)
设置EasyTidy 按照计划自动执行文件整理任务，可以选择使用CRON表达式，或者自定义执行时间表。
![时间表](/images/PixPin_2025-01-07_17-01-56.png)
在时间表中,空字符串匹配任何值;Val1,Val2..ValN 匹配值列表;n1-n2 匹配n1到n2的值范围;n1-n2/n3 与步骤n3匹配范围n1到n2。示列:分钟=15 小时=03 月份=3-10/3 每个星期的第几天=1,3,5任务将会在36，9月的每周1，3，5早上3点15分运行。

CRON表达式跟时间表中的前五项为互斥关系，填写CRON表达式之后，上方五项规则不会生效。具体执行周期以CRON表达式为准。

## 启动时

![启动时](/images/PixPin_2025-01-08_14-55-10.png)
将任务设置为在 EasyTidy 启动时自动执行一次。

## 自动分析（全局）

![全局配置](/images/PixPin_2025-01-08_15-01-18.png)
在此菜单中启用某种自动执行方式后，所有在[任务关联](#任务关联)中配置的自动任务将统一使用该执行方式。这种设计旨在简化操作，使用户能够快速为多个任务设置一致的自动化行为。

**注意事项**：

- 启用某种执行方式后，任务关联中的所有勾选，并且未设置的自动任务都将共享该方式。
- 配置完成后，请点击“保存配置”以确保更改生效。

## 任务关联

任务关联功能支持为每个任务单独设置自动执行方式，同时提供文件预览及执行流向展示，方便用户直观管理和调整任务的运行逻辑。  

### 功能详情

1. **单独设置自动执行方式**  
   - 每个任务均可独立配置其自动执行方式，支持以下类型：  
     - **文件变更**：当检测到文件变动时，触发任务执行。  
     - **启动时执行**：在 EasyTidy 启动时自动执行任务。  
     - **定期执行**：根据设定的时间间隔触发任务执行。  
     - **计划任务**：按照设定的时间表或 CRON 表达式触发任务执行。  
   - 开启“单独配置”后，仅影响当前选定任务的执行方式，不会覆盖其他任务的设置。

2. **查看待处理文件和执行流向**  
   - 显示选定任务将处理的文件列表，用户可预览文件的来源路径及目标流向。  
   - 文件流向图直观呈现任务的执行逻辑，帮助用户验证任务配置的正确性。  
   ![查看](/images/PixPin_2025-01-08_15-20-03.gif)

3. **切换任务列表展示方式**  
   - 提供灵活的任务关联列表展示选项，点击“任务选择”旁边的图标即可切换：  
     - **详细列表视图**：显示任务的名称、执行方式、处理规则等详细信息。  
     - **简洁图标视图**：以图标形式展示任务，适合快速查找和管理。  

### 配置步骤

1. **选择任务**  
   - 在任务关联界面中，从任务列表的树形列表中勾选需要配置的任务。  

2. **单独设置执行方式**  
   - 点击“铅笔”图标，为当前任务选择适合的自动执行方式。  
   - 点击“保存配置”以应用更改。  

3. **查看文件预览及执行流向**  
   - 在界面中查看即将处理的文件列表及其执行路径。  
   - 检查文件流向图，确认处理规则是否符合预期。  

4. **切换任务列表视图**  
   - 点击“任务选择”旁的切换图标，选择适合的任务展示方式。
   ![切换方式](/images/PixPin_2025-01-08_15-16-25.gif)

### 注意事项

- **任务独立性**：单独设置的执行方式仅影响当前任务，不会对其他任务产生干扰。  
- **文件预览准确性**：预览的文件列表依据当前规则生成，确保规则配置正确以避免误操作。  
- **切换视图状态**：切换视图后，任务展示方式会保持在最后选定的状态，直至下次更改。  

此功能旨在提供更高的灵活性和可视化支持，帮助用户高效管理复杂任务。

## CRON表达式范例

```bash

*/5 * * * * ?  每隔5秒执行一次
0 */1 * * * ?  每隔1分钟执行一次
0 0 23 * * ?  每天23点执行一次
0 0 1 * * ?  每天凌晨1点执行一次：
0 0 1 1 * ?  每月1号凌晨1点执行一次
0 0 23 L * ?  每月最后一天23点执行一次
0 0 1 ? * L  每周星期天凌晨1点实行一次
0 26,29,33 * * * ?  在26分、29分、33分执行一次
0 0 0,13,18,21 * * ? 每天的0点、13点、18点、21点都执行一次
```

## CRON表达式可选值

| 字段名           | 允许的值                 | 允许的特殊字符            |
|------------------|-------------------------|--------------------------|
| 秒              | 0-59                   | , - * /                |
| 分              | 0-59                   | , - * /                |
| 小时            | 0-23                   | , - * /                |
| 日              | 1-31                   | , - * ? / L W C        |
| 月              | 1-12 或 JAN-DEC        | , - * /                |
| 周几            | 1-7 或 SUN-SAT         | , - * ? / L C #        |
| 年 (可选字段)    | 空或 1970-2099         | , - * /                |

## CRON中的符号

- `*` ：代表整个时间段.
- `/` ：表示每多长时间执行一次
- `0/15` 表示每隔15分钟执行一次,“0”表示为从“0”分开始；
- `3/20` 表示每隔20分钟执行一次，“3”表示从第3分钟开始执行
- `?` ：表示每月的某一天，或第几周的某一天
- `L` ：`6L`表示“每月的最后一个星期五”
- `W`：表示为最近工作日如“15W”放在每月（day-of-month）字段上表示为“到本月15日最近的工作日”
- `#`：是用来指定“的”每月第n个工作日`6#3`或者`FRI#3`:在每周（day-of-week）中表示“每月第三个星期五”
- 问号(?)就是用来对日期和星期字段做互斥的，问号(?)的作用是指明该字段‘没有特定的值’，星号(*)和其它值，比如数字，都是给该字段指明特定的值，而星号(*)代表所有，在天时表示每一天。

- `?`字符：表示不确定的值
- `,`字符：指定数个值
- `-`字符：指定一个值的范围
- `/`字符：指定一个值的增加幅度。n/m表示从n开始，每次增加m
- `L`字符：用在日表示一个月中的最后一天，用在周表示该月最后一个星期X
- `W`字符：指定离给定日期最近的工作日(周一到周五)
- `#`字符：表示该月第几个周X。6#3表示该月第3个周五
